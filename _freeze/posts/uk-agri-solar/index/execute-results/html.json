{
  "hash": "2ac0ed844517b244a7297d20632aa7a0",
  "result": {
    "markdown": "---\ntitle: \"UK solar versus agricultural production\"\ndescription: \"Why pitting solar against food production is a red herring\"\nauthor:\n  - name: Seb Dunnett\n    url: https://sebdunnett.github.io/\n    orcid: 0000-0002-5300-3075\ndate: \"2023-02-07\"\ncategories: [solar, agriculture, energy, spatial] # self-defined categories\ncitation: \n  url: https://sebdunnett.github.io/posts/uk-agri-solar/\ndraft: false\nimage: solar_farm.jpg\n---\n\n\nReviving an old Twitter thread to expedite my first ever blog contribution; as a lifelong environmentalist, I'm a fan of recycling. If you want to check out the original thread, and its total lack of engagement, it's [here](https://twitter.com/sebdunnett/status/1579782734406643712).\n\nYou might have seen the UK government [plans to tighten restrictions for field solar on farmland](https://www.theguardian.com/environment/2022/oct/10/ministers-hope-to-ban-solar-projects-from-most-english-farms) back in October last year. Most commentators I've seen use non-spatial figures so I decided to dive into the spatial data to answer the question: has the government \"fixed\" a non-existent problem?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!require(pacman,quietly = TRUE)) install.packages('pacman')\nlibrary(pacman)\n\npacman::p_load(tidyverse,sf,scico,scales)\n\n# always a useful function to include\n`%ni%` <- Negate(`%in%`)\n\n# British National Grid\nprj = st_crs(27700)\n\n# UK & Eng boundaries\nuk = st_read(\"data/uk.json\", quiet=TRUE) %>%\n  st_make_valid\neng = st_read(\"data/eng.geojson\", quiet=TRUE)\n```\n:::\n\n\n# Solar in the UK\n\n![Solar farm in England. Photo by [Red Zeppelin](https://unsplash.com/@redzeppelin?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/photos/UVGE-o757-g?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)](solar_farm.jpg)\n\nFirstly, we need data for solar locations. Back in 2016 when I started my PhD, there were very little spatial data for renewable energy -- one of the drivers for my [first paper](https://doi.org/10.1038/s41597-020-0469-8); thankfully it's not as bad now. I used data from a study that took a similar approach to ours, but with a much more detailed focus on the UK.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-2_7ffdd1eac622da06331aa4f50320b45b'}\n\n```{.r .cell-code  code-fold=\"true\"}\n# polygons from Stowell et al\nsolar = st_read(\"data/ukpvgeo_geometries.geojson\", quiet=TRUE) %>% \n  st_transform(prj)\n\nsolar_poly_area_km2 = sum(st_area(solar)) %>% units::set_units(km2)\n\n# points from Stowell et al\nsolar_pts = read.csv(\"data/ukpvgeo_points.csv\") %>%\n  drop_na(latitude,longitude) %>%\n  st_as_sf(coords=c(\"longitude\",\"latitude\"),crs=4326) %>%\n  st_transform(27700) %>% \n  filter(located %ni% c(\"roof\",\"rood\",\"roof`\",\"root\")) # couple of spelling mistakes in the data\n\nsolar_uk_area_km2 = sum(solar_pts$area_sqm,na.rm=T) %>% units::set_units(m2) %>% units::set_units(km2)\nsolar_uk_pct = solar_uk_area_km2/(sum(st_area(uk)) %>% units::set_units(km2))\n```\n:::\n\n\nStowell *et al.* produced point data with area as an attribute, as well as polygons; the difference between the two was only 2.9. I ended up using areas calculated from the polygons. This gave the percentage of land used for solar in the UK as a whopping *0.097%*.\n\n# Agricultural grading\n\nSo here's the crux of the issue: agricultural land classification. 1 is best, 5 is worst. In practice, 3 is split into 3a and 3b, but I'm using data from Natural England that annoyingly doesn't split 3 so we'll have to make do.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-3_0e99a4379ed431f5160b43eb0d399ecc'}\n\n```{.r .cell-code}\nalc = st_read(\"data/Provisional_Agricultural_Land_Classification_(ALC)_(England).geojson\",\n              quiet=TRUE) %>%\n  st_transform(27700) %>% \n  filter(ALC_GRADE!=\"Exclusion\")\n\nalc$AREA <- st_area(alc)\n\n# summarise by grade\nalc_summary = st_drop_geometry(alc) %>% \n  group_by(ALC_GRADE) %>% \n  summarise(total_area_sqm = sum(AREA,na.rm = T)) %>% \n  mutate(prop = total_area_sqm/sum(total_area_sqm))\n\n# palette for alc plot\nalc_pal = c(scico(n=5,palette=\"bamako\",direction = 1),\"lightblue\",\"darkgray\")\n\nggplot(alc %>% filter(ALC_GRADE!=\"Exclusion\")) +\n  geom_sf(aes(fill=ALC_GRADE),col=NA) +\n  cowplot::theme_map() +\n  scale_fill_manual(name=\"Agricultural grade\",values = alc_pal)\n```\n\n::: {.cell-output-display}\n![Distribution of agricultural land classification grades in England.](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}