{
  "hash": "607e84b4e42d6afa48f3b6a4540ad510",
  "result": {
    "markdown": "---\ntitle: \"UK solar versus agricultural production\"\ndescription: \"Why pitting solar against food production is a red herring\"\nauthor:\n  - name: Seb Dunnett\n    url: https://sebdunnett.com/\n    orcid: 0000-0002-5300-3075\ndate: \"2023-02-20\"\ncategories: [solar, agriculture, energy, spatial] # self-defined categories\ncitation: \n  url: https://sebdunnett.com/posts/2023-02-20-uk-agri-solar/\ndraft: false\nimage: solar_farm.jpg\nbibliography: bib.bib\n---\n\n\nReviving an old Twitter thread to expedite my first ever blog contribution; as a lifelong environmentalist, I'm a fan of recycling. If you want to check out the original thread, and its total lack of engagement, it's [here](https://twitter.com/sebdunnett/status/1579782734406643712).\n\nYou might have seen the UK government [plans to tighten restrictions for field solar on farmland](https://www.theguardian.com/environment/2022/oct/10/ministers-hope-to-ban-solar-projects-from-most-english-farms) back in October last year. Although it [didn't go through in the end](https://solarenergyuk.org/news/a-turning-point-government-ends-solar-farm-uncertainty/), the false dichotomy of farming vs solar energy keeps getting peddled. Here's ITV going all clickbait with \"[Heating or eating?](https://twitter.com/ITVWales/status/1626893034117017600?s=20)\". Most commentators I've seen use non-spatial figures so I decided to dive into the spatial data to answer the question: has the government \"fixed\" a non-existent problem?\n\n::: {.callout-note}\nCaveat: this concerns England only as that's where the agricultural data covers, but that shouldn't matter much as 90% of solar is in England (sorry Andy...).\n:::\n\n![](https://media3.giphy.com/media/x63ZCTYXIET6FCmj54/giphy.gif?cid=ecf05e47dmrw3egge7czyu4sw1ndn6tt1xgy4mnt3irexgm4&rid=giphy.gif&ct=g)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!require(pacman,quietly = TRUE)) install.packages('pacman')\nlibrary(pacman)\n\npacman::p_load(tidyverse,sf,scico,scales,kableExtra,showtext)\nfont_add_google(\"Mulish\",\"mulish\")\n\n# always a useful function to include\n`%ni%` <- Negate(`%in%`)\n\nknitr::knit_hooks$set(inline = function(x) {   \n  if(class(x)==\"units\" & is.numeric(x)){\n    prettyNum(signif(units::drop_units(x),4), big.mark=\",\")\n  } else if(is.numeric(x)){\n    prettyNum(signif(x,4), big.mark=\",\")\n  } else{x}\n  })\n\n# British National Grid\nprj = st_crs(27700)\n\n# UK & Eng boundaries\nuk = st_read(\"data/uk.json\", quiet=TRUE) %>%\n  st_make_valid\neng = st_read(\"data/eng.geojson\", quiet=TRUE) |>\n  st_make_valid()\n```\n:::\n\n\n# Solar in the UK\n\n![Solar farm in Rockbeare, Exeter. Photo by [Red Zeppelin](https://unsplash.com/@redzeppelin?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/photos/UVGE-o757-g?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)](solar_farm.jpg)\n\nFirstly, we need data for solar locations. Back in 2016 when I started my PhD, there were very little spatial data for renewable energy -- one of the drivers for my first paper [@dunnettHarmonisedGlobalDatasets2020a]; thankfully it's not as bad now. I used data from a study that took a similar approach to ours, but with a much more detailed focus on the UK.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-1_093a68bd8a55c83bc066b4f3f849dcd1'}\n\n```{.r .cell-code  code-fold=\"true\"}\n# polygons from Stowell et al\nsolar = st_read(\"data/ukpvgeo_geometries.geojson\", quiet=TRUE) %>% \n  st_transform(prj)\n\nsolar_poly_area_km2 = sum(st_area(solar)) %>% units::set_units(km2)\n\n# points from Stowell et al\nsolar_pts = read.csv(\"data/ukpvgeo_points.csv\") %>%\n  drop_na(latitude,longitude) %>%\n  st_as_sf(coords=c(\"longitude\",\"latitude\"),crs=4326) %>%\n  st_transform(27700) %>% \n  filter(located %ni% c(\"roof\",\"rood\",\"roof`\",\"root\")) # couple of spelling mistakes in the data\n\nsolar_uk_area_km2 = sum(solar_pts$area_sqm,na.rm=T) %>% units::set_units(m2) %>% units::set_units(km2)\nsolar_uk_pct = solar_uk_area_km2/(sum(st_area(uk)) %>% units::set_units(km2))\n```\n:::\n\n\n@Stowell2020 produced point data with area as an attribute, as well as polygons; the difference between the two was only 2.901 km^2^. I ended up using areas calculated from the polygons. As most of this debate has centered on ground-mounted solar, I've filtered out any roof-mounted. This gave the percentage of land used for solar in the UK as a whopping *0.09697%*.\n\n# Agricultural grading\n\nSo here's the crux of the issue: agricultural land classification. 1 is best, 5 is worst. In practice, 3 is split into 3a and 3b, but I'm using data from Natural England that annoyingly doesn't split 3 so we'll have to make do.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-2_f6726d91a3f1391d0cdf9a3f9f23839b'}\n\n```{.r .cell-code}\nalc = st_read(\"data/Provisional_Agricultural_Land_Classification_(ALC)_(England).geojson\",\n              quiet=TRUE) %>%\n  st_transform(27700) %>% \n  filter(ALC_GRADE!=\"Exclusion\")\n\nalc$AREA <- st_area(alc)\n\n# palette for alc plot\n alc_pal = scico(n=7,palette=\"acton\")\n\nshowtext_auto()\n\nggplot(alc %>% filter(ALC_GRADE!=\"Exclusion\")) +\n  geom_sf(aes(fill=ALC_GRADE),col=NA) +\n  cowplot::theme_map() +\n  scale_fill_manual(name=\"Agricultural grade\",values = alc_pal) +\n  theme(legend.title = element_text(family=\"mulish\", size = 30),\n        legend.text = element_text(family=\"mulish\", size = 20))\n```\n\n::: {.cell-output-display}\n![Distribution of agricultural land classification grades in England. Non-agricultural land covers golf course, sports pitches, and public and private parks.](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# summarise by grade\nalc_summary = st_drop_geometry(alc) %>% \n  group_by(ALC_GRADE) %>% \n  summarise(alc_total_area_sqm = sum(AREA,na.rm = T)) %>% \n  mutate(prop = alc_total_area_sqm/sum(alc_total_area_sqm))\n\n# best & most versatile = Grades 1-3a\nbmv_pct = sum(alc_summary[2:4,2])/units::drop_units(st_area(eng))\nbmv_area_km2 = sum(alc_summary[2:4,2]) %>% units::set_units(m2) %>% units::set_units(km2)\n```\n:::\n\n\n\"Best & most versatile\" (BMV) refers to the best quality agricultural land: Grades 1-3a. The proposals at the end of last year were to include 3b. Importantly, current planning guidance **already favours** farming over solar on BMV land.\n\nGrades 1-3 cover 76.55% of England's area, 99,790 km^2^.\n\n\n::: {.cell tbl-cap='Percentage land taken up by ground-mounted solar for each agricultural grade.'}\n\n```{.r .cell-code}\n# spatially join agricultural grades to solar data\nsolar_alc = st_join(solar_pts,dplyr::select(alc,ALC_GRADE)) %>% \n  drop_na(ALC_GRADE)\n\n# summarise by grade\nsolar_alc_summary = solar_alc %>% \n  st_drop_geometry() %>% \n  group_by(ALC_GRADE) %>% \n  summarise(solar_total_area_sqm=sum(area_sqm,na.rm = T) %>% units::set_units(m2))%>% \n  left_join(dplyr::select(alc_summary, ALC_GRADE, alc_total_area_sqm),by=\"ALC_GRADE\") %>% \n  mutate(pct = units::drop_units(solar_total_area_sqm/alc_total_area_sqm))\n\n# area & pct of solar in England\nsolar_eng_area_km2 = sum(solar_alc$area_sqm,na.rm=T) %>% units::set_units(m2) %>% units::set_units(km2)\nsolar_eng_pct = solar_eng_area_km2/(st_area(eng) %>% units::set_units(km2))\n\n# table of ALC grades and % solar\nsolar_alc_summary %>% \n  dplyr::select(ALC_GRADE,pct) %>% \n  mutate(pct=scales::percent(pct, accuracy=0.001)) %>%\n  rename(\"Agricultural grade\" = ALC_GRADE,\n         \"%\" = pct) %>% \n  kable %>% \n  kable_styling\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Agricultural grade </th>\n   <th style=\"text-align:left;\"> % </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Grade 1 </td>\n   <td style=\"text-align:left;\"> 0.277% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Grade 2 </td>\n   <td style=\"text-align:left;\"> 0.186% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Grade 3 </td>\n   <td style=\"text-align:left;\"> 0.194% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Grade 4 </td>\n   <td style=\"text-align:left;\"> 0.161% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Grade 5 </td>\n   <td style=\"text-align:left;\"> 0.066% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Non Agricultural </td>\n   <td style=\"text-align:left;\"> 0.125% </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Urban </td>\n   <td style=\"text-align:left;\"> 0.010% </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nGround-mounted solar infrastructure covers 0.163% of England so it does look like solar is slightly over-represented in higher agricultural classes compared to England on average (see table above), but this is likely exacerbated by obvious constraints such as the tiny percentage of ground-mounted solar in cities (*not* a surprising finding!). Regardless, these are still *tiny* proportions: the proportion in Grade 1 translates to 1 km^2^ in 3,614!\n\n# Solar in development\n\nWhat about future solar developments? For this I had to dive back into the (terrible) Renewable Energy Planning Database (REPD). Serious BEIS, please, please sort it out. They have MW capacities but not areas so I used Dr Simon Evan's, [Carbon Brief](https://www.carbonbrief.org/)'s factchecker extraordinaire, conversion: ~25 acres (0.1 km^2^ in normal units) per 5 MW.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# import REPD and fix it\nrepd = read.csv(\"data/repd-january-2023.csv\", fileEncoding=\"latin1\") %>%\n  mutate(across(X.coordinate:Y.coordinate,as.numeric)) %>%\n  drop_na(X.coordinate,Y.coordinate) %>% \n  st_as_sf(coords=c(\"X.coordinate\",\"Y.coordinate\"),crs=27700) %>% \n  filter(Technology.Type==\"Solar Photovoltaics\" &\n           Mounting.Type.for.Solar!=\"Roof\") %>% \n  mutate(approx_area_sqm = `Installed.Capacity..MWelec.`*20234.36 %>% units::set_units(m2))\n\n# spatial join with ALC grades\nrepd_alc = st_join(repd,dplyr::select(alc,ALC_GRADE)) %>% \n  drop_na(ALC_GRADE)\n\n# summarise by ALC grade and development stage\nrepd_alc_summary = repd_alc %>% \n  st_drop_geometry() %>% \n  group_by(ALC_GRADE,Development.Status..short.) %>% \n  summarise(total_area_sqm = sum(approx_area_sqm,na.rm=T),\n            total_MW = sum(Installed.Capacity..MWelec.,na.rm=T) %>% units::set_units(MW))\n\n# group projects in general construction phase\nconstruction = filter(repd_alc_summary, Development.Status..short. %in% c(\"Awaiting Construction\",\"Under Construction\")) %>% \n  group_by(ALC_GRADE) %>% \n  summarise(constr_solar=sum(total_area_sqm,na.rm=T),\n            constr_solar_MW=sum(total_MW,na.rm=T))\n\n# group projects in planning\nplanning = filter(repd_alc_summary, Development.Status..short. %in% c(\"Application Submitted\",\"Pre-Planning\",\"Revised\",\"Scoping\")) %>% \n  group_by(ALC_GRADE) %>% \n  summarise(plan_solar=sum(total_area_sqm,na.rm=T),\n            plan_solar_MW=sum(total_MW,na.rm=T))\n\n# total solar area per ALC grade\nsolar_alc_areas <- solar_alc_summary %>% dplyr::select(ALC_GRADE,solar_total_area_sqm)\nnames(solar_alc_areas) <- c(\"ALC_GRADE\",\"operating_solar\")\n\n# join all\nout <- list(solar_alc_areas,planning,construction,alc_summary[,c(\"ALC_GRADE\",\"alc_total_area_sqm\")]) %>% \n  reduce(left_join) %>% \n  mutate(operating_pct = units::drop_units(operating_solar/alc_total_area_sqm),\n         operatingplus_pct = units::drop_units((operating_solar + plan_solar + constr_solar)/alc_total_area_sqm))\n\n# Planned solar in Grade 3\n# Percentage increase\ng3_pre <- out[[3,8]]\ng3_post <- out[[3,9]]\n\n# Area added\narea_added <- units::set_units(out[[3,3]] + out[[3,5]],km2)\n\n# GW added\ngw_added <- out[[3,6]]/1000\n```\n:::\n\n\nSo *if* every single planned and under construction installation makes it to operation, and that's a big if looking at the rates of application refusal/withdrawal etc. in the REPD, solar area in Grade 3 would increase from 0.00194% to 0.005128%.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(units)\nshowtext_auto()\n\nof_interest = c(\"Application Submitted\",\n                \"Awaiting Construction\",\n                \"Under Construction\",\n                \"Operational\",\n                \"Application Refused\")\n\n# filter interesting categories to make plot readable\nrepd_alc_summary = filter(repd_alc_summary,\n                          Development.Status..short. %in% of_interest)\n\n# colourblind friendly palette\npal = scico(palette=\"tokyo\", n=5)\n\n# plot solar project area by development phase\nggplot(repd_alc_summary %>%\n         mutate(total_area_sqm = units::set_units(total_area_sqm,km2))) +\n  geom_bar(aes(x=ALC_GRADE,y=total_area_sqm,fill=Development.Status..short.), stat=\"identity\") +\n  scale_fill_manual(name=\"Status\",values=pal) +\n  theme_minimal() +\n  ylab(\"Area\") +\n  xlab(\"Agricultural grade\") +\n  theme(text=element_text(family=\"mulish\", size = 25)) +\n  coord_flip() +\n  scale_x_discrete(limits=rev)\n```\n\n::: {.cell-output-display}\n![Solar installations in agricultural grades by operational phase as reported in the REPD.](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nHad they been banned by Defra, we may have lost out on an extra *200.5 km^2^* of panels & *5.349 GW of capacity*. I'll let others work out how many houses that could be powering.\n\nAnd this doesn't even acknowledge that many of these installations are *wanted by the farmers* who will indisputably know the land better than any top-down classification.\n\nAlso - agrivoltaics people! It's not a new thing and has been shown to be highly effective for producing multiple benefits across the food-energy-water nexus [@barron-gaffordAgrivoltaicsProvideMutual2019]; eating vs solar heating is a manufactured dichotomy.\n\n## Data{.appendix}\n\n* Solar data from @Stowell2020\n* Agricultural Land Classifications from [Natural England](https://naturalengland-defra.opendata.arcgis.com/maps/5d2477d8d04b41d4bbc9a8742f858f4d)\n* Renewables planning data from [BEIS](https://www.gov.uk/government/publications/renewable-energy-planning-database-monthly-extract)",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}